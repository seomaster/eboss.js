(function(){this.SelectVariationHelper=function(){function a(){}return a.updatePrice=function(a,b){return null!==b?$(a).text(b):void 0},a.currentURL=function(){return document.URL},a.addParameterToURL=function(a,b){var c,d,e;return d=this.currentURL(),e=new RegExp("(\\?|\\&)"+a+"=.*?(?=(&|$))"),c=/\?.+$/,d=e.test(d)?d.replace(e,"$1"+a+"="+b):c.test(d)?d+"&"+a+"="+b:d+"?"+a+"="+b,window.history.replaceState(d,"Title",d)},a.getURLParameters=function(){var a,b,c,d,e,f,g;for(g=window.location.search.substr(window.location.search.indexOf("?")+1),f=g.split("&"),a={},b=0,c=f.length;c>b;b++)e=f[b],d=e.split("="),a[d[0]]=d[1];return a},a.enableAllOptionButtons=function(){var a,b;return b=$("input[data-role='variation']:not([disabled=true])"),b.attr("disabled",!1),a=b.parent().parent(),a.removeClass("unavailable").removeAttr("title")},a.disableVariationButton=function(a){var b;return $(a).attr("disabled",!0).prop("checked",!1),b=$(a).parent().parent(),$(b).removeClass("active").addClass("unavailable").attr("title","IndisponÃ­vel")},a.updateImageCarousel=function(a){var b,c,d,e,f,g,h;if(1===a.length){for(h=a[0],e=h.variation_images,$("div#image-big").hide().empty(),$("div#thumb-nav").hide().empty(),b=[],g=[],c=0,f=e.length;f>c;c++)d=e[c],b.push($("div#huge-placeholder").find("div[data-huge='variation_"+d+"']").clone()),g.push($("div#thumb-placeholder").find("div[data-thumb='variation_"+d+"']").clone());return $("div#image-big").append(b),$("div#thumb-nav").append(g),$(".slide-full").data("owlCarousel").reinit(),$(".slide-thumb").data("owlCarousel").reinit()}},a}()}).call(this),function(){this.SelectVariationController=function(){function a(){}return a.prototype.updateSalesPrice=function(a){return 1===a.length?SelectVariationHelper.updatePrice("div[data-role='sales-price']",a[0].sale_price_formatted):void 0},a.prototype.updateRegularPrice=function(a){return 1===a.length?SelectVariationHelper.updatePrice("div[data-role='regular-price']",a[0].regular_price_formatted):void 0},a.prototype.updateHistoryState=function(a){return SelectVariationHelper.addParameterToURL($(a).attr("name"),$(a).val())},a.prototype.selectOptionsOnLoad=function(){var a;return a=SelectVariationHelper.getURLParameters(),$("input[data-role='variation']").each(function(b,c){var d,e;return d=$(c).attr("name"),e=$(c).attr("value"),d in a&&a[d]===e?($(c).attr("checked",!0),$(c).click()):void 0})},a.prototype.updateImageCarousel=function(a){return SelectVariationHelper.updateImageCarousel(a)},a.prototype.toogleVariationButtons=function(a,b){var c,d,e,f,g,h,i;for(c=$(a),SelectVariationHelper.enableAllOptionButtons(),h=[],d=0,e=b.length;e>d;d++)i=b[d],0===i.qty_in_stock?1===i.options_values.length?(f=i.options_values[0],h.push(SelectVariationHelper.disableVariationButton($("input[type='radio'][value='"+f+"']")))):h.push(function(){var a,b,d,e;for(d=i.options_values,e=[],a=0,b=d.length;b>a;a++)g=d[a],e.push(g!==$(c).attr("value")?SelectVariationHelper.disableVariationButton($("input[type='radio'][value='"+g+"']")):void 0);return e}()):h.push(void 0);return h},a}()}.call(this),function(){this.SelectVariationHandler=function(){function a(){this.onClickVariation(),this.onDocumentReady()}return a.prototype.onClickVariation=function(){return $("input[data-role='variation']").on("click keyup",function(a){var b,c,d,e;return a.stopPropagation(),d=$(this).closest("form"),b=$(d).attr("action")+".json",c=$(d).serialize(),e={url:b,data:c,method:"get",dataType:"JSON",success:function(b){return this.controller=new SelectVariationController,this.controller.updateSalesPrice(b),this.controller.updateRegularPrice(b),this.controller.updateImageCarousel(b),this.controller.toogleVariationButtons(a.target,b),this.controller.updateHistoryState($(this))}},$.ajax(e)})},a.prototype.onDocumentReady=function(){return $(window).bind("load",function(a){return function(){return a.controller=new SelectVariationController,a.controller.selectOptionsOnLoad()}}(this))},a}()}.call(this),function(){this.Eboss=function(){function a(){new SelectVariationHandler}return a}()}.call(this);